<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ox="http://xmlns.jcp.org/jsf/composite/ox"
	xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:richext="http://xmlns.jcp.org/jsf/composite/richext"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/WEB-INF/incl/layout/newtemplate.xhtml">
	<f:metadata>
		<f:viewAction
			action="#{permissionService.requestPermission('uma', 'access')}" />
		<f:viewParam name="searchPattern"
			value="#{umaInventoryAction.searchPattern}" />
		<f:viewAction action="#{conversationService.initConversation}" />
		<f:viewAction action="#{umaInventoryAction.start}" onPostback="false" />
	</f:metadata>
	<ui:define name="body">
		<section class="content-header">
			<h1 style="color: #333;">
				#{msgs['uma.uma']} <small> <i class="fa fa-caret-right"
					style="color: #333 !important;" /> #{msgs['uma.scopes']}
				</small>
			</h1>
			<ol class="breadcrumb">
				<li><a href="#{request.contextPath}/home.htm"> <i
						class="fa fa-home" />
				</a></li>
				<li class="organization/configuration"><a
					href="#{request.contextPath}/uma/scope.htm">#{msgs['uma.scopes']}</a>
				</li>
			</ol>
		</section>
		<section class="content">
			<div class="row">
				<div class="col-xs-12">
					<b:panel title="Uma Scopes List" look="primary" iconAwesome="fa-list" collapsible="false">
						<h:form>
							<div class="nav-tabs-custom" style="margin-bottom: 0px;">
								<div class="tab-pane" id="scopeTab">
									<h:panelGrid border="0" cellpadding="0" cellspacing="0"
										columns="1" width="100%">
										<b:link style-class="addScopeButtonClass btn btn-primary"
											icon="plus" outcome="/uma/scope/addUmaScope"
											value="#{msgs['uma.addScopeDescription']}"
											includeViewParams="false" />
										<p:spacer height="8" />
										<ox:decorate id="searchPattern"
											label="#{msgs['uma.searchKey']}" style="height:60px;">
											<h:inputText
												alt="Search parameters for UMA resource set like Inum, Display Name"
												id="searchPatternId" maxlength="30" placeholder="Search Key"
												size="30" style="width:50%;float: left;"
												styleClass="form-control searchBoxClass"
												value="#{umaInventoryAction.searchPattern}" />
											<b:commandButton action="#{umaInventoryAction.search}"
												render="resourcesListId, scopesListId"
												style="float: left;margin-left:5px;"
												styleClass="btn btn-primary searchButtonClass"
												value="#{msgs['uma.search']}"  iconAwesome="fa-search"/>
										</ox:decorate>
										<p:spacer height="8" />
										<b:dataTable id="scopesListId" style="text-align:center;width:100%;"
											styleClass="umaScopeListClass" responsive="true"
											rendered="#{umaInventoryAction.scopesList.size() gt 0}"
											value="#{umaInventoryAction.scopesList}" var="_row"
											print="true" excel="true" csv="true" pdf="true" select="true">
											<b:dataTableColumn label="#{msgs['uma.name']}">
												<h:link includeViewParams="false"
													outcome="/uma/scope/updateUmaScope"
													value="#{_row.displayName}">
													<f:param name="inum" value="#{_row.inum}" />
												</h:link>
											</b:dataTableColumn>
											<b:dataTableColumn value="#{_row.id}"
												label="#{msgs['uma.action']}" />
										</b:dataTable>
									</h:panelGrid>
								</div>
							</div>
						</h:form>
					</b:panel>
				</div>
			</div>
		</section>
	</ui:define>
</ui:composition>
